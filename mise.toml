# Sentinel Documentation - mise configuration
# Built with Zola and Tanuki theme

[tools]
zola = "0.19.2"

# Sentinel for local serving (optional)
# Install: curl -fsSL https://getsentinel.raskell.io | sh

[tasks.default]
description = "Show available tasks"
run = "mise tasks"

# Quick aliases
[tasks.b]
alias = "build"

[tasks.s]
alias = "serve"

[tasks.c]
alias = "clean"

[tasks.u]
alias = "update-theme"

[tasks.build]
description = "Build documentation site"
run = """
#!/usr/bin/env bash
set -e
echo "Building Sentinel documentation..."
zola build
echo "Build complete! Output in public/"
"""

[tasks.serve]
description = "Serve documentation locally with live reload"
run = """
#!/usr/bin/env bash
set -e
echo "Starting Zola dev server..."
echo "Visit http://127.0.0.1:1111"
zola serve --port 1111
"""

[tasks.clean]
description = "Clean build artifacts"
run = "rm -rf public"

[tasks.check]
description = "Check for broken links"
run = """
#!/usr/bin/env bash
set -e
echo "Checking documentation..."
zola check
"""

[tasks.update-theme]
description = "Update Tanuki theme to latest version"
run = """
#!/usr/bin/env bash
set -e
echo "Updating Tanuki theme..."
git submodule update --remote themes/tanuki
echo "Theme updated to $(cd themes/tanuki && git rev-parse --short HEAD)"
"""
